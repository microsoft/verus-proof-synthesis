--- benchmarks/verified-storage/unverified_nolemma/pmemutil_L_single_write_crash_effect_on_pm_regions_view.rs

+++ benchmarks/verified-storage/unverified/pmemutil_L_single_write_crash_effect_on_pm_regions_view.rs

@@ -143,6 +143,43 @@

 
 pub trait PersistentMemoryRegion: Sized {
 
+}
+
+#[verifier::external_body]
+pub proof fn lemma_if_no_outstanding_writes_then_persistent_memory_view_can_only_crash_as_committed(
+    pm_region_view: PersistentMemoryRegionView,
+)
+    requires
+        pm_region_view.no_outstanding_writes(),
+    ensures
+        forall|s| pm_region_view.can_crash_as(s) ==> s == pm_region_view.committed(),
+{
+    unimplemented!()
+}
+
+#[verifier::external_body]
+pub proof fn lemma_single_write_crash_effect_on_pm_region_view(
+    pm_region_view: PersistentMemoryRegionView,
+    write_addr: int,
+    bytes_to_write: Seq<u8>,
+)
+    requires
+        bytes_to_write.len() == const_persistence_chunk_size(),
+        write_addr % const_persistence_chunk_size() == 0,
+        0 <= write_addr,
+        write_addr + const_persistence_chunk_size() <= pm_region_view.len(),
+        pm_region_view.no_outstanding_writes(),
+    ensures
+        ({
+            let new_pm_region_view = pm_region_view.write(write_addr, bytes_to_write);
+            forall|crash_bytes: Seq<u8>|
+                new_pm_region_view.can_crash_as(crash_bytes) ==> {
+                    ||| crash_bytes == pm_region_view.committed()
+                    ||| crash_bytes == new_pm_region_view.flush().committed()
+                }
+        }),
+{
+    unimplemented!()
 }
 
 pub fn main() {
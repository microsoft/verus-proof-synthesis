
fn sum(arr: &Vec<i64>) -> (sum: i128)
    ensures
        sum_to(arr@) == sum,
{
    let mut index = 0;
    let mut sum = 0i128;
    assert(forall |k:int| 0 <= k < arr.len() ==> sum_to(arr@.subrange(0, k as int)) == sum_to(arr@.subrange(0, index as int))) by {
        // Assert the loop invariant before the loop
    }
    while index < arr.len()
        invariant
            index <= arr.len(),
            forall |k:int| 0 <= k < arr.len() ==> sum_to(arr@.subrange(0, k as int)) == sum_to(arr@.subrange(0, index as int)),
        // ... rest of the code remains the same


//             forall |k:int| 0 <= k < arr.len() ==> sum_to(arr@.subrange(0, k as int)) == sum_to(arr@.subrange(0, index as int)),
//   None: forall |k:int| 0 <= k < arr.len() ==> sum_to(arr@.subrange(0, k as int)) == sum_to(arr@.subrange(0, index as int))

// Compilation Error: True, Verified: -1, Errors: 999, Verus Errors: 1
// Safe: False